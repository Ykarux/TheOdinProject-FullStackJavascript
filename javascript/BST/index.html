<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<title>BST</title>
	</head>
	<body>
		<script>
			function Node(data) {
				let value = data
				let left = null
				let right = null

				return {
					value,
					left,
					right
				}
			}

			function Tree(array) {

				let root = buildTree(array, 0, array.length - 1)

				function buildTree(arr, start, end) {
					if (start > end) {
						return null
					}
					const mid = Math.trunc((start + end) / 2)
					const newNode = Node(arr[mid])
					newNode.left = buildTree(arr, start, mid - 1)
					newNode.right = buildTree(arr, mid + 1, end)
					return newNode
				}

				function insert(value, node = root) {
					if (node === null) {
						node = Node(value)
						return node
					}
					if (value < node.value) {
						node.left = insert(value, node.left)
					} else {
						node.right = insert(value, node.right)
					}

					return node
				}

				return {
					root,
					insert
				}
			}

			const myTree = Tree([1, 2, 3, 4, 5, 6, 7])

			const prettyPrint = (node, prefix = '', isLeft = true) => {
				if (node === null) {
					return;
				}
				if (node.right !== null) {
					prettyPrint(node.right, `${prefix}${isLeft ? '│   ' : '    '}`, false);
				}
				console.log(`${prefix}${isLeft ? '└── ' : '┌── '}${node.value}`);
				if (node.left !== null) {
					prettyPrint(node.left, `${prefix}${isLeft ? '    ' : '│   '}`, true);
				}
			};

			myTree.insert(8)
			console.log(myTree)
			prettyPrint(myTree.root)
		</script>
	</body>
</html>