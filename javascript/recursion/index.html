<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<title>Recursion</title>
	</head>
	<body>
		<script>
			function sum(n) {
				return (n === 1) ? 1 : n + sum(n - 1)
			}

			console.log(sum(3))

			function pow(base, exponent) {
				return (exponent === 0) ? 1 : base * pow(base, exponent - 1)
			}

			console.log(pow(2, 4))

			function fac(n) {
				return (n === 1) ? 1 : n * fac(n - 1)
			}

			console.log(fac(5))

			function all(arr, callback) {
				if (arr.length === 0) {
					return true
				}
				if (callback(arr[0])) {
					arr.shift()
					return all(arr, callback)
				} else {
					return false
				}
			}

			function areLessThan7(num) {
				return num < 7
			}

			console.log(all([1, 3, 6], areLessThan7))

			function productOfArray(arr) {
				if (arr.length === 1) {
					return arr[0]
				} else {
					return arr.shift() * productOfArray(arr)
				}
			}

			console.log(productOfArray([1, 2, 3, 10]))

			function searchInObject(obj, val) {
				for (const key in obj) {
					if (typeof obj[key] !== 'object') {
						if (obj[key] === val) {
							return true
						}
					} else {
						return searchInObject(obj[key], val)
					}
				}
				return false
			}

			const nestedObject = {
				data: {
					info: {
						stuff: {
							thing: {
								moreStuff: {
									magicNumber: 44,
									something: 'foo2'
								}
							}
						}
					}
				}
			}

			console.log(searchInObject(nestedObject, 44))
			console.log(searchInObject(nestedObject, 'foo'))

			function totalIntegers(arr) {
				if (arr.length === 0) {
					return 0
				}

				let total = 0
				let first = arr.shift()
				if (Array.isArray(first)) {
					total += totalIntegers(first)
				} else if (Number.isInteger(first)) {
					total++
				}

				return total + totalIntegers(arr)
			}

			console.log(totalIntegers([[[5], 3], 0, 2, ['foo'], [], [4, [5, 6]]]))

			function sumSquare(arr) {
				if (arr.length === 0) {
					return 0
				}

				let total = 0
				let first = arr.shift()
				if (Array.isArray(first)) {
					total += sumSquare(first)
				} else if (Number.isInteger(first)) {
					total += first * first
				}

				return total + sumSquare(arr)
			}

			console.log(sumSquare([[[[[[[[[1]]]]]]]]]))

			function replicate(time, value) {
				if (time <= 0) {
					return []
				}

				return [value].concat(replicate(time - 1, value))
			}

			console.log(replicate(5, 3))
		</script>
	</body>
</html>